<p style="color: green"><%= notice %></p>

<h1>Rental requests</h1>

<div id="rental_requests">
  <ul class="list-group">
    <% @rental_requests.each do |rental_request| %>
      <li class="list-group-item d-flex">
        <div class="container">
        <div class="row align-items-center">
          <div class="col">
            <%= link_to "Request \##{rental_request.id}", rental_request, class: "text-nowrap" %>
          </div>
          <div class="col">
            <ul class="list-group list-group-horizontal">
              <% query = rental_request.query_wanted_games %>
              <% if query.empty? %>
                <li class="list-group-item">
                  <i class="bi bi-braces"></i>
                </li>
              <% else %>
                <% query.each do |entry| %>
                  <li class="list-group-item">
                    <%= link_to entry.game.title, entry.game %>
                  </li>
                <% end %>
              <% end %>
              <li class="list-group-item">
                <i class="bi bi-arrow-right"></i>
              </li>
              <% query = rental_request.query_offered_games %>
                <% if query.empty? %>
                <li class="list-group-item">
                  <i class="bi bi-braces"></i>
                </li>
              <% else %>
                <% query.each do |entry| %>
                  <li class="list-group-item">
                    <%= link_to entry.game.title, entry.game %>
                  </li>
                <% end %>
              <% end %>
            </ul>
          </div>
          <div class="col-2">
            <%= link_to "Accept", root_url, type: 'button', class: "btn btn-primary"%>
          </div>
        </div>
        </div>
      </li>
    <% end %>
  </ul>
</div>

<%= link_to "New rental_request", new_rental_request_path %>
